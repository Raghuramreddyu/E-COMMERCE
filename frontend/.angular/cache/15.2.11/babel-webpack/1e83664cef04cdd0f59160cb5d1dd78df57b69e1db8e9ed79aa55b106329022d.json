{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ShoppingCartComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 5);\n    i0.ɵɵtext(4, \"Continue Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ShoppingCartComponent_div_3_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function ShoppingCartComponent_div_3_ng_template_2_div_0_Template_input_change_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r7.updateQuantity(item_r6.product.id, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ShoppingCartComponent_div_3_ng_template_2_div_0_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.removeFromCart(item_r6.product.id));\n    });\n    i0.ɵɵtext(10, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r6.product.image_url, i0.ɵɵsanitizeUrl)(\"alt\", item_r6.product.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r6.product.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", item_r6.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 5, item_r6.product.price * item_r6.quantity, \"USD\"));\n  }\n}\nfunction ShoppingCartComponent_div_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ShoppingCartComponent_div_3_ng_template_2_div_0_Template, 11, 8, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 7)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 8);\n    i0.ɵɵtext(7, \"Proceed to Checkout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const items_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", items_r1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind2(4, 2, i0.ɵɵpipeBind1(5, 5, ctx_r4.totalPrice$), \"USD\"), \"\");\n  }\n}\nfunction ShoppingCartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ShoppingCartComponent_div_3_div_1_Template, 5, 0, \"div\", 2);\n    i0.ɵɵtemplate(2, ShoppingCartComponent_div_3_ng_template_2_Template, 8, 7, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const items_r1 = ctx.ngIf;\n    const _r3 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", items_r1.length === 0)(\"ngIfElse\", _r3);\n  }\n}\nexport class ShoppingCartComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cartItems$ = this.cartService.cartItems$;\n    this.totalPrice$ = this.cartService.totalPrice$;\n  }\n  updateQuantity(id, event) {\n    const quantity = parseInt(event.target.value, 10);\n    this.cartService.updateQuantity(id, quantity);\n  }\n  removeFromCart(id) {\n    this.cartService.removeFromCart(id);\n  }\n  static {\n    this.ɵfac = function ShoppingCartComponent_Factory(t) {\n      return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ShoppingCartComponent,\n      selectors: [[\"app-shopping-cart\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 3,\n      consts: [[1, \"cart-container\"], [4, \"ngIf\"], [\"class\", \"empty-cart\", 4, \"ngIf\", \"ngIfElse\"], [\"cartContent\", \"\"], [1, \"empty-cart\"], [\"routerLink\", \"/kits\", 1, \"button\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-summary\"], [\"routerLink\", \"/checkout\", 1, \"button\", \"checkout-btn\"], [1, \"cart-item\"], [1, \"item-image\", 3, \"src\", \"alt\"], [1, \"item-details\"], [\"type\", \"number\", \"min\", \"1\", 1, \"quantity-input\", 3, \"value\", \"change\"], [1, \"remove-btn\", 3, \"click\"]],\n      template: function ShoppingCartComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Your Shopping Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ShoppingCartComponent_div_3_Template, 4, 2, \"div\", 1);\n          i0.ɵɵpipe(4, \"async\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 1, ctx.cartItems$));\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.AsyncPipe, i2.CurrencyPipe, RouterModule, i3.RouterLink],\n      styles: [\".cart-container[_ngcontent-%COMP%] {\\r\\n    max-width: 800px;\\r\\n    margin: 2rem auto;\\r\\n}\\r\\n\\r\\n.cart-item[_ngcontent-%COMP%] {\\r\\n    display: grid;\\r\\n    grid-template-columns: 3fr 1fr 1fr 1fr;\\r\\n    gap: 1rem;\\r\\n    align-items: center;\\r\\n    padding: 1rem 0;\\r\\n    border-bottom: 1px solid var(--subtle-borders);\\r\\n}\\r\\n\\r\\n.cart-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n    width: 60px;\\r\\n}\\r\\n\\r\\n.cart-total[_ngcontent-%COMP%] {\\r\\n    margin-top: 2rem;\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.checkout-button[_ngcontent-%COMP%] {\\r\\n    background-color: var(--accent-color);\\r\\n    color: white;\\r\\n    padding: 10px 20px;\\r\\n    border-radius: 5px;\\r\\n    text-decoration: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2hvcHBpbmctY2FydC9zaG9wcGluZy1jYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxTQUFTO0lBQ1QsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZiw4Q0FBOEM7QUFDbEQ7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kscUNBQXFDO0lBQ3JDLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJ0LWNvbnRhaW5lciB7XHJcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgbWFyZ2luOiAycmVtIGF1dG87XHJcbn1cclxuXHJcbi5jYXJ0LWl0ZW0ge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogM2ZyIDFmciAxZnIgMWZyO1xyXG4gICAgZ2FwOiAxcmVtO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDFyZW0gMDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1zdWJ0bGUtYm9yZGVycyk7XHJcbn1cclxuXHJcbi5jYXJ0LWl0ZW0gaW5wdXQge1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbn1cclxuXHJcbi5jYXJ0LXRvdGFsIHtcclxuICAgIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuLmNoZWNrb3V0LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;;;;;;;IAYtCC,8BAAqE;IAChEA,mCAAmB;IAAAA,iBAAI;IAC1BA,4BAAqC;IAAAA,iCAAiB;IAAAA,iBAAI;;;;;;IAI1DA,8BAAkD;IAChDA,0BAAiF;IACjFA,+BAA0B;IAElBA,YAAuB;IAAAA,iBAAO;IACpCA,iCAMC;IAHCA;MAAA;MAAA;MAAA;MAAA,OAAUA,gEAAuC;IAAA,EAAC;IAHpDA,iBAMC;IACDA,4BAAM;IAAAA,YAA2D;;IAAAA,iBAAO;IACxEA,kCAAqE;IAA1CA;MAAA;MAAA;MAAA;MAAA,OAASA,wDAA+B;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAZjFA,eAA8B;IAA9BA,iEAA8B;IAG3BA,eAAuB;IAAvBA,0CAAuB;IAG3BA,eAAuB;IAAvBA,wCAAuB;IAKnBA,eAA2D;IAA3DA,2FAA2D;;;;;IAZrEA,2FAeM;IACNA,8BAA0B;IACpBA,YAAmD;;;IAAAA,iBAAK;IAC5DA,4BAAsD;IAAAA,mCAAmB;IAAAA,iBAAI;;;;;IAlBvCA,kCAAQ;IAiB1CA,eAAmD;IAAnDA,2GAAmD;;;;;IAxB7DA,2BAA2C;IACzCA,4EAGM;IAENA,6HAqBc;IAChBA,iBAAM;;;;;IA3BEA,eAA0B;IAA1BA,4CAA0B;;;AAgCxC,OAAM,MAAOC,qBAAqB;EAIhCC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAC7B,IAAI,CAACC,UAAU,GAAG,IAAI,CAACD,WAAW,CAACC,UAAU;IAC7C,IAAI,CAACC,WAAW,GAAG,IAAI,CAACF,WAAW,CAACE,WAAW;EACjD;EAEAC,cAAc,CAACC,EAAU,EAAEC,KAAU;IACnC,MAAMC,QAAQ,GAAGC,QAAQ,CAAEF,KAAK,CAACG,MAA2B,CAACC,KAAK,EAAE,EAAE,CAAC;IACvE,IAAI,CAACT,WAAW,CAACG,cAAc,CAACC,EAAE,EAAEE,QAAQ,CAAC;EAC/C;EAEAI,cAAc,CAACN,EAAU;IACvB,IAAI,CAACJ,WAAW,CAACU,cAAc,CAACN,EAAE,CAAC;EACrC;;;uBAhBWN,qBAAqB;IAAA;EAAA;;;YAArBA,qBAAqB;MAAAa;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAnC9BpB,8BAA4B;UACtBA,kCAAkB;UAAAA,iBAAK;UAC3BA,sEA4BM;;UACRA,iBAAM;;;UA7BEA,eAA2B;UAA3BA,2DAA2B;;;qBAJ3BF,YAAY,sDAAEC,YAAY;MAAAsB;IAAA;EAAA","names":["CommonModule","RouterModule","i0","ShoppingCartComponent","constructor","cartService","cartItems$","totalPrice$","updateQuantity","id","event","quantity","parseInt","target","value","removeFromCart","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["C:\\Users\\91630\\OneDrive\\Desktop\\E-Commerce-Website\\frontend\\src\\app\\pages\\shopping-cart\\shopping-cart.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { CartService, CartItem } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-shopping-cart',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  template: `\r\n    <div class=\"cart-container\">\r\n      <h2>Your Shopping Cart</h2>\r\n      <div *ngIf=\"(cartItems$ | async) as items\">\r\n        <div *ngIf=\"items.length === 0; else cartContent\" class=\"empty-cart\">\r\n          <p>Your cart is empty.</p>\r\n          <a routerLink=\"/kits\" class=\"button\">Continue Shopping</a>\r\n        </div>\r\n\r\n        <ng-template #cartContent>\r\n          <div class=\"cart-item\" *ngFor=\"let item of items\">\r\n            <img [src]=\"item.product.image_url\" [alt]=\"item.product.name\" class=\"item-image\">\r\n            <div class=\"item-details\">\r\n              <!-- THE FIX: Access product properties via item.product -->\r\n              <span>{{ item.product.name }}</span>\r\n              <input \r\n                type=\"number\" \r\n                [value]=\"item.quantity\" \r\n                (change)=\"updateQuantity(item.product.id, $event)\" \r\n                min=\"1\"\r\n                class=\"quantity-input\"\r\n              >\r\n              <span>{{ (item.product.price * item.quantity) | currency:'USD' }}</span>\r\n              <button class=\"remove-btn\" (click)=\"removeFromCart(item.product.id)\">Remove</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"cart-summary\">\r\n            <h3>Total: {{ (totalPrice$ | async) | currency:'USD' }}</h3>\r\n            <a routerLink=\"/checkout\" class=\"button checkout-btn\">Proceed to Checkout</a>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./shopping-cart.component.css']\r\n})\r\nexport class ShoppingCartComponent {\r\n  cartItems$: Observable<CartItem[]>;\r\n  totalPrice$: Observable<number>;\r\n\r\n  constructor(private cartService: CartService) {\r\n    this.cartItems$ = this.cartService.cartItems$;\r\n    this.totalPrice$ = this.cartService.totalPrice$;\r\n  }\r\n\r\n  updateQuantity(id: number, event: any): void {\r\n    const quantity = parseInt((event.target as HTMLInputElement).value, 10);\r\n    this.cartService.updateQuantity(id, quantity);\r\n  }\r\n\r\n  removeFromCart(id: number): void {\r\n    this.cartService.removeFromCart(id);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}