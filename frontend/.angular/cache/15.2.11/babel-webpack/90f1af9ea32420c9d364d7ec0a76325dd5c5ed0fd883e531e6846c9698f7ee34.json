{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ShoppingCartComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 7);\n    i0.ɵɵlistener(\"change\", function ShoppingCartComponent_div_3_div_1_Template_input_change_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.updateQuantity(item_r4.id, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ShoppingCartComponent_div_3_div_1_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.removeFromCart(item_r4.id));\n    });\n    i0.ɵɵtext(8, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", item_r4.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 3, item_r4.price * item_r4.quantity));\n  }\n}\nfunction ShoppingCartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ShoppingCartComponent_div_3_div_1_Template, 9, 5, \"div\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 5);\n    i0.ɵɵtext(9, \"Proceed to Checkout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r0.cartItems$));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(6, 4, i0.ɵɵpipeBind1(7, 6, ctx_r0.cartTotal$)), \"\");\n  }\n}\nfunction ShoppingCartComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Your cart is empty.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ShoppingCartComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cartItems$ = this.cartService.cartItems$;\n    this.cartTotal$ = this.cartService.cartItems$.pipe(map(items => items.reduce((acc, item) => acc + item.price * item.quantity, 0)));\n  }\n  updateQuantity(id, event) {\n    const quantity = parseInt(event.target.value, 10);\n    this.cartService.updateQuantity(id, quantity);\n  }\n  removeFromCart(id) {\n    this.cartService.removeFromCart(id);\n  }\n  static {\n    this.ɵfac = function ShoppingCartComponent_Factory(t) {\n      return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ShoppingCartComponent,\n      selectors: [[\"app-shopping-cart\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 7,\n      vars: 4,\n      consts: [[1, \"cart-container\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptyCart\", \"\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-total\"], [\"routerLink\", \"/checkout\", 1, \"checkout-button\"], [1, \"cart-item\"], [\"type\", \"number\", \"min\", \"1\", 3, \"value\", \"change\"], [3, \"click\"]],\n      template: function ShoppingCartComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Your Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ShoppingCartComponent_div_3_Template, 10, 8, \"div\", 1);\n          i0.ɵɵpipe(4, \"async\");\n          i0.ɵɵtemplate(5, ShoppingCartComponent_ng_template_5_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(6);\n          let tmp_0_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(4, 2, ctx.cartItems$)) == null ? null : tmp_0_0.length)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.AsyncPipe, i2.CurrencyPipe, RouterModule, i3.RouterLink],\n      styles: [\".cart-container[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n    margin: 2rem auto;\\n}\\n\\n.cart-item[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: 3fr 1fr 1fr 1fr;\\n    gap: 1rem;\\n    align-items: center;\\n    padding: 1rem 0;\\n    border-bottom: 1px solid var(--subtle-borders);\\n}\\n\\n.cart-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 60px;\\n}\\n\\n.cart-total[_ngcontent-%COMP%] {\\n    margin-top: 2rem;\\n    text-align: right;\\n}\\n\\n.checkout-button[_ngcontent-%COMP%] {\\n    background-color: var(--accent-color);\\n    color: white;\\n    padding: 10px 20px;\\n    border-radius: 5px;\\n    text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2hvcHBpbmctY2FydC9zaG9wcGluZy1jYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxTQUFTO0lBQ1QsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZiw4Q0FBOEM7QUFDbEQ7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kscUNBQXFDO0lBQ3JDLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJ0LWNvbnRhaW5lciB7XG4gICAgbWF4LXdpZHRoOiA4MDBweDtcbiAgICBtYXJnaW46IDJyZW0gYXV0bztcbn1cblxuLmNhcnQtaXRlbSB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDNmciAxZnIgMWZyIDFmcjtcbiAgICBnYXA6IDFyZW07XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxcmVtIDA7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXN1YnRsZS1ib3JkZXJzKTtcbn1cblxuLmNhcnQtaXRlbSBpbnB1dCB7XG4gICAgd2lkdGg6IDYwcHg7XG59XG5cbi5jYXJ0LXRvdGFsIHtcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4uY2hlY2tvdXQtYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,GAAG,QAAQ,MAAM;;;;;;;;IAUlBC,8BAA+D;IACvDA,YAAe;IAAAA,iBAAO;IAC5BA,gCAAgG;IAAnDA;MAAA;MAAA;MAAA;MAAA,OAAUA,wDAA+B;IAAA,EAAC;IAAvFA,iBAAgG;IAChGA,4BAAM;IAAAA,YAA6C;;IAAAA,iBAAO;IAC1DA,iCAA0C;IAAlCA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAHnDA,eAAe;IAAfA,kCAAe;IACAA,eAAuB;IAAvBA,wCAAuB;IACtCA,eAA6C;IAA7CA,4EAA6C;;;;;IAJvDA,2BAA0D;IACxDA,4EAKM;;IACNA,8BAAwB;IAClBA,YAA0C;;;IAAAA,iBAAK;IACnDA,4BAAkD;IAAAA,mCAAmB;IAAAA,iBAAI;;;;IARnCA,eAAqB;IAArBA,iEAAqB;IAOvDA,eAA0C;IAA1CA,mGAA0C;;;;;IAKhDA,yBAAG;IAAAA,mCAAmB;IAAAA,iBAAI;;;AAMlC,OAAM,MAAOC,qBAAqB;EAMhCC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAL/B,eAAU,GAAG,IAAI,CAACA,WAAW,CAACC,UAAU;IACxC,eAAU,GAAG,IAAI,CAACD,WAAW,CAACC,UAAU,CAACC,IAAI,CAC3CN,GAAG,CAACO,KAAK,IAAIA,KAAK,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAS,EAAE,CAAC,CAAC,CAAC,CACjF;EAE8C;EAE/CC,cAAc,CAACC,EAAU,EAAEC,KAAU;IACnC,MAAMH,QAAQ,GAAGI,QAAQ,CAAED,KAAK,CAACE,MAA2B,CAACC,KAAK,EAAE,EAAE,CAAC;IACvE,IAAI,CAACd,WAAW,CAACS,cAAc,CAACC,EAAE,EAAEF,QAAQ,CAAC;EAC/C;EAEAO,cAAc,CAACL,EAAU;IACvB,IAAI,CAACV,WAAW,CAACe,cAAc,CAACL,EAAE,CAAC;EACrC;;;uBAfWZ,qBAAqB;IAAA;EAAA;;;YAArBA,qBAAqB;MAAAkB;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UArB9BzB,8BAA4B;UACtBA,yBAAS;UAAAA,iBAAK;UAClBA,uEAWM;;UACNA,uHAEc;UAChBA,iBAAM;;;;;UAfEA,eAAoC;UAApCA,uGAAoC;;;qBAJpCH,YAAY,sDAAEC,YAAY;MAAA4B;IAAA;EAAA","names":["CommonModule","RouterModule","map","i0","ShoppingCartComponent","constructor","cartService","cartItems$","pipe","items","reduce","acc","item","price","quantity","updateQuantity","id","event","parseInt","target","value","removeFromCart","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["/Users/saiaryan/Documents/devops-int2/frontend/src/app/pages/shopping-cart/shopping-cart.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CartService } from '../../services/cart.service';\nimport { RouterModule } from '@angular/router';\nimport { map } from 'rxjs';\n\n@Component({\n  selector: 'app-shopping-cart',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <div class=\"cart-container\">\n      <h2>Your Cart</h2>\n      <div *ngIf=\"(cartItems$ | async)?.length; else emptyCart\">\n        <div class=\"cart-item\" *ngFor=\"let item of cartItems$ | async\">\n          <span>{{ item.name }}</span>\n          <input type=\"number\" [value]=\"item.quantity\" (change)=\"updateQuantity(item.id, $event)\" min=\"1\">\n          <span>{{ (item.price * item.quantity) | currency }}</span>\n          <button (click)=\"removeFromCart(item.id)\">Remove</button>\n        </div>\n        <div class=\"cart-total\">\n          <h3>Total: {{ cartTotal$ | async | currency }}</h3>\n          <a routerLink=\"/checkout\" class=\"checkout-button\">Proceed to Checkout</a>\n        </div>\n      </div>\n      <ng-template #emptyCart>\n        <p>Your cart is empty.</p>\n      </ng-template>\n    </div>\n  `,\n  styleUrls: ['./shopping-cart.component.css']\n})\nexport class ShoppingCartComponent {\n  cartItems$ = this.cartService.cartItems$;\n  cartTotal$ = this.cartService.cartItems$.pipe(\n    map(items => items.reduce((acc, item) => acc + (item.price * item.quantity), 0))\n  );\n\n  constructor(private cartService: CartService) {}\n\n  updateQuantity(id: number, event: any) {\n    const quantity = parseInt((event.target as HTMLInputElement).value, 10);\n    this.cartService.updateQuantity(id, quantity);\n  }\n\n  removeFromCart(id: number) {\n    this.cartService.removeFromCart(id);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}