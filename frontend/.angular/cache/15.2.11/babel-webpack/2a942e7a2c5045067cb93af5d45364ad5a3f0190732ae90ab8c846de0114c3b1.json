{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./auth.service\";\nexport class OrderService {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.apiUrl = 'http://localhost:3000/api/orders';\n  }\n  // Method to place a new order\n  placeOrder(items) {\n    const token = this.authService.getToken();\n    // The authMiddleware on the backend expects the token in the Authorization header\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    });\n    // The backend route expects an object with an 'items' property\n    const body = {\n      items: items\n    };\n    return this.http.post(this.apiUrl, body, {\n      headers: headers\n    });\n  }\n  static {\n    this.ɵfac = function OrderService_Factory(t) {\n      return new (t || OrderService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: OrderService,\n      factory: OrderService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAAqBA,WAAW,QAAQ,sBAAsB;;;;AAQ9D,OAAM,MAAOC,YAAY;EAGvBC,YAAoBC,IAAgB,EAAUC,WAAwB;IAAlD,SAAI,GAAJD,IAAI;IAAsB,gBAAW,GAAXC,WAAW;IAFjD,WAAM,GAAG,kCAAkC;EAEuB;EAE1E;EACAC,UAAU,CAACC,KAAiB;IAC1B,MAAMC,KAAK,GAAG,IAAI,CAACH,WAAW,CAACI,QAAQ,EAAE;IAEzC;IACA,MAAMC,OAAO,GAAG,IAAIT,WAAW,CAAC;MAC9B,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUO,KAAK;KACjC,CAAC;IAEF;IACA,MAAMG,IAAI,GAAG;MAAEJ,KAAK,EAAEA;IAAK,CAAE;IAE7B,OAAO,IAAI,CAACH,IAAI,CAACQ,IAAI,CAAC,IAAI,CAACC,MAAM,EAAEF,IAAI,EAAE;MAAED,OAAO,EAAEA;IAAO,CAAE,CAAC;EAChE;;;uBAnBWR,YAAY;IAAA;EAAA;;;aAAZA,YAAY;MAAAY,SAAZZ,YAAY;MAAAa,YAFX;IAAM;EAAA","names":["HttpHeaders","OrderService","constructor","http","authService","placeOrder","items","token","getToken","headers","body","post","apiUrl","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\91630\\OneDrive\\Desktop\\E-Commerce-Website\\frontend\\src\\app\\services\\order.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from './auth.service';\r\nimport { CartItem } from './cart.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n  private apiUrl = 'http://localhost:3000/api/orders';\r\n\r\n  constructor(private http: HttpClient, private authService: AuthService) { }\r\n\r\n  // Method to place a new order\r\n  placeOrder(items: CartItem[]): Observable<any> {\r\n    const token = this.authService.getToken();\r\n\r\n    // The authMiddleware on the backend expects the token in the Authorization header\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    });\r\n\r\n    // The backend route expects an object with an 'items' property\r\n    const body = { items: items };\r\n\r\n    return this.http.post(this.apiUrl, body, { headers: headers });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}