{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CheckoutPageComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty. Nothing to check out.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CheckoutPageComponent_div_3_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", item_r6.product.name, \" (x\", item_r6.quantity, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, item_r6.product.price * item_r6.quantity, \"USD\"));\n  }\n}\nfunction CheckoutPageComponent_div_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtemplate(0, CheckoutPageComponent_div_3_ng_template_2_div_0_Template, 6, 6, \"div\", 5);\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵelementStart(2, \"div\", 6)(3, \"strong\");\n    i0.ɵɵtext(4, \"Total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function CheckoutPageComponent_div_3_ng_template_2_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.placeOrder());\n    });\n    i0.ɵɵtext(10, \"Place Order\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const items_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", items_r1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 2, i0.ɵɵpipeBind1(8, 5, ctx_r4.totalPrice$), \"USD\"));\n  }\n}\nfunction CheckoutPageComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CheckoutPageComponent_div_3_div_1_Template, 3, 0, \"div\", 2);\n    i0.ɵɵtemplate(2, CheckoutPageComponent_div_3_ng_template_2_Template, 11, 7, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const items_r1 = ctx.ngIf;\n    const _r3 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", items_r1.length === 0)(\"ngIfElse\", _r3);\n  }\n}\nexport class CheckoutPageComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems$ = this.cartService.cartItems$;\n    this.totalPrice$ = this.cartService.totalPrice$;\n  }\n  placeOrder() {\n    // Here, you would typically send the order to your backend API\n    console.log('Order placed!');\n    alert('Thank you for your order!');\n    // THE FIX: The 'clearCart' method now exists on the service\n    this.cartService.clearCart();\n    this.router.navigate(['/']); // Navigate to home page after order\n  }\n\n  static {\n    this.ɵfac = function CheckoutPageComponent_Factory(t) {\n      return new (t || CheckoutPageComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CheckoutPageComponent,\n      selectors: [[\"app-checkout-page\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 3,\n      consts: [[1, \"checkout-container\"], [4, \"ngIf\"], [\"class\", \"empty-summary\", 4, \"ngIf\", \"ngIfElse\"], [\"summaryContent\", \"\"], [1, \"empty-summary\"], [\"class\", \"summary-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"summary-total\"], [1, \"button\", \"place-order-btn\", 3, \"click\"], [1, \"summary-item\"]],\n      template: function CheckoutPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Checkout Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, CheckoutPageComponent_div_3_Template, 4, 2, \"div\", 1);\n          i0.ɵɵpipe(4, \"async\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 1, ctx.cartItems$));\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.AsyncPipe, i3.CurrencyPipe, RouterModule],\n      styles: [\".checkout-container[_ngcontent-%COMP%] {\\r\\n    max-width: 600px;\\r\\n    margin: 2rem auto;\\r\\n    padding: 2rem;\\r\\n    border: 1px solid var(--subtle-borders);\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.checkout-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n.order-item[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    padding: 0.5rem 0;\\r\\n}\\r\\n\\r\\n.order-total[_ngcontent-%COMP%] {\\r\\n    text-align: right;\\r\\n    margin-top: 1rem;\\r\\n}\\r\\n\\r\\n.checkout-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin-top: 2rem;\\r\\n    padding: 15px;\\r\\n    font-size: 1.1rem;\\r\\n}\\r\\n\\r\\n.order-success[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    padding: 2rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2hlY2tvdXQvY2hlY2tvdXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7QUFDakIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hlY2tvdXQtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICBtYXJnaW46IDJyZW0gYXV0bztcclxuICAgIHBhZGRpbmc6IDJyZW07XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zdWJ0bGUtYm9yZGVycyk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcblxyXG4uY2hlY2tvdXQtY29udGFpbmVyIGgyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5vcmRlci1pdGVtIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMDtcclxufVxyXG5cclxuLm9yZGVyLXRvdGFsIHtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcclxufVxyXG5cclxuLmNoZWNrb3V0LWNvbnRhaW5lciBidXR0b24ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xyXG59XHJcblxyXG4ub3JkZXItc3VjY2VzcyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAAiBC,YAAY,QAAQ,iBAAiB;;;;;;;IAY9CC,8BAA2E;IACtEA,yDAAyC;IAAAA,iBAAI;;;;;IAGhDA,8BAAqD;IAE7CA,YAA8C;IAAAA,iBAAO;IAC3DA,4BAAM;IAAAA,YAA2D;;IAAAA,iBAAO;;;;IADlEA,eAA8C;IAA9CA,6EAA8C;IAC9CA,eAA2D;IAA3DA,2FAA2D;;;;;;IAHnEA,0FAIM;IACNA,qBAAI;IACJA,8BAA2B;IACjBA,sBAAM;IAAAA,iBAAS;IACvBA,8BAAQ;IAAAA,YAA4C;;;IAAAA,iBAAS;IAE/DA,iCAA8D;IAAtDA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAAgCA,4BAAW;IAAAA,iBAAS;;;;;IAVvCA,kCAAQ;IAQzCA,eAA4C;IAA5CA,2FAA4C;;;;;IAb1DA,2BAA2C;IACzCA,4EAEM;IACNA,8HAYc;IAChBA,iBAAM;;;;;IAhBEA,eAA0B;IAA1BA,4CAA0B;;;AAqBxC,OAAM,MAAOC,qBAAqB;EAIhCC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAC1D,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,WAAW,CAACE,UAAU;IAC7C,IAAI,CAACC,WAAW,GAAG,IAAI,CAACH,WAAW,CAACG,WAAW;EACjD;EAEAC,UAAU;IACR;IACAC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5BC,KAAK,CAAC,2BAA2B,CAAC;IAElC;IACA,IAAI,CAACP,WAAW,CAACQ,SAAS,EAAE;IAC5B,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC/B;;;;uBAjBWX,qBAAqB;IAAA;EAAA;;;YAArBA,qBAAqB;MAAAY;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAxB9BnB,8BAAgC;UAC1BA,gCAAgB;UAAAA,iBAAK;UACzBA,sEAiBM;;UACRA,iBAAM;;;UAlBEA,eAA2B;UAA3BA,2DAA2B;;;qBAJ3BF,YAAY,sDAAEC,YAAY;MAAAqB;IAAA;EAAA","names":["CommonModule","RouterModule","i0","CheckoutPageComponent","constructor","cartService","router","cartItems$","totalPrice$","placeOrder","console","log","alert","clearCart","navigate","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["C:\\Users\\91630\\OneDrive\\Desktop\\E-Commerce-Website\\frontend\\src\\app\\pages\\checkout\\checkout.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { CartService, CartItem } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-checkout-page',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  template: `\r\n    <div class=\"checkout-container\">\r\n      <h2>Checkout Summary</h2>\r\n      <div *ngIf=\"(cartItems$ | async) as items\">\r\n        <div *ngIf=\"items.length === 0; else summaryContent\" class=\"empty-summary\">\r\n          <p>Your cart is empty. Nothing to check out.</p>\r\n        </div>\r\n        <ng-template #summaryContent>\r\n          <div class=\"summary-item\" *ngFor=\"let item of items\">\r\n            <!-- THE FIX: Access product properties via item.product -->\r\n            <span>{{ item.product.name }} (x{{ item.quantity }})</span>\r\n            <span>{{ (item.product.price * item.quantity) | currency:'USD' }}</span>\r\n          </div>\r\n          <hr>\r\n          <div class=\"summary-total\">\r\n            <strong>Total:</strong>\r\n            <strong>{{ (totalPrice$ | async) | currency:'USD' }}</strong>\r\n          </div>\r\n          <button (click)=\"placeOrder()\" class=\"button place-order-btn\">Place Order</button>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./checkout.component.css']\r\n})\r\nexport class CheckoutPageComponent {\r\n  cartItems$: Observable<CartItem[]>;\r\n  totalPrice$: Observable<number>;\r\n\r\n  constructor(private cartService: CartService, private router: Router) {\r\n    this.cartItems$ = this.cartService.cartItems$;\r\n    this.totalPrice$ = this.cartService.totalPrice$;\r\n  }\r\n\r\n  placeOrder(): void {\r\n    // Here, you would typically send the order to your backend API\r\n    console.log('Order placed!');\r\n    alert('Thank you for your order!');\r\n    \r\n    // THE FIX: The 'clearCart' method now exists on the service\r\n    this.cartService.clearCart();\r\n    this.router.navigate(['/']); // Navigate to home page after order\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}