{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction NavbarComponent_ng_container_7_span_10_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const count_r4 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(count_r4);\n  }\n}\nfunction NavbarComponent_ng_container_7_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtemplate(1, NavbarComponent_ng_container_7_span_10_ng_container_1_Template, 2, 1, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const count_r4 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", count_r4 > 0);\n  }\n}\nfunction NavbarComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 7);\n    i0.ɵɵtext(2, \"My Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_container_7_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.logout());\n    });\n    i0.ɵɵtext(4, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 9);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(6, \"svg\", 10);\n    i0.ɵɵelement(7, \"circle\", 11)(8, \"circle\", 12)(9, \"path\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, NavbarComponent_ng_container_7_span_10_Template, 2, 1, \"span\", 14);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 1, ctx_r0.itemCount$));\n  }\n}\nfunction NavbarComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 17);\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"a\", 18);\n    i0.ɵɵtext(3, \"Register\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 19);\n    i0.ɵɵtext(5, \"Admin\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class NavbarComponent {\n  constructor(authService, cartService, router) {\n    this.authService = authService;\n    this.cartService = cartService;\n    this.router = router;\n    this.isLoggedIn$ = this.authService.isLoggedIn$;\n    this.itemCount$ = this.cartService.itemCount$; // Use the itemCount$ observable\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']); // Redirect to login after logout\n  }\n\n  static {\n    this.ɵfac = function NavbarComponent_Factory(t) {\n      return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NavbarComponent,\n      selectors: [[\"app-navbar\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 11,\n      vars: 4,\n      consts: [[1, \"navbar\"], [1, \"navbar-container\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [1, \"navbar-links\"], [\"routerLink\", \"/kits\"], [4, \"ngIf\", \"ngIfElse\"], [\"loggedOut\", \"\"], [\"routerLink\", \"/my-orders\"], [1, \"logout-link\", 3, \"click\"], [\"routerLink\", \"/cart\", 1, \"cart-icon\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"cx\", \"9\", \"cy\", \"21\", \"r\", \"1\"], [\"cx\", \"20\", \"cy\", \"21\", \"r\", \"1\"], [\"d\", \"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"], [\"class\", \"cart-count\", 4, \"ngIf\"], [1, \"cart-count\"], [4, \"ngIf\"], [\"routerLink\", \"/login\"], [\"routerLink\", \"/register\"], [\"routerLink\", \"/admin/login\"]],\n      template: function NavbarComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n          i0.ɵɵtext(3, \"The Home Office Kit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"a\", 4);\n          i0.ɵɵtext(6, \"Kits\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, NavbarComponent_ng_container_7_Template, 12, 3, \"ng-container\", 5);\n          i0.ɵɵpipe(8, \"async\");\n          i0.ɵɵtemplate(9, NavbarComponent_ng_template_9_Template, 6, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(10);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 2, ctx.isLoggedIn$))(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [CommonModule, i4.NgIf, i4.AsyncPipe, RouterModule, i3.RouterLink],\n      styles: [\".navbar[_ngcontent-%COMP%] {\\r\\n    background-color: var(--primary-background);\\r\\n    border-bottom: 1px solid var(--subtle-borders);\\r\\n    padding: 1rem 2rem;\\r\\n}\\r\\n\\r\\n.navbar-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    max-width: 1200px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.navbar-brand[_ngcontent-%COMP%] {\\r\\n    font-size: 1.5rem;\\r\\n    font-weight: 700;\\r\\n    color: var(--primary-text);\\r\\n}\\r\\n\\r\\n.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    margin-left: 1.5rem;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 500;\\r\\n    color: var(--primary-text);\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.cart-icon[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.cart-count[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: -10px;\\r\\n    right: -15px;\\r\\n    background-color: var(--accent-color);\\r\\n    color: white;\\r\\n    border-radius: 50%;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    font-size: 0.75rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9uYXZiYXIvbmF2YmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSwyQ0FBMkM7SUFDM0MsOENBQThDO0lBQzlDLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQiwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQiwwQkFBMEI7SUFDMUIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsWUFBWTtJQUNaLHFDQUFxQztJQUNyQyxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiLm5hdmJhciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWJhY2tncm91bmQpO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXN1YnRsZS1ib3JkZXJzKTtcclxuICAgIHBhZGRpbmc6IDFyZW0gMnJlbTtcclxufVxyXG5cclxuLm5hdmJhci1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4ubmF2YmFyLWJyYW5kIHtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQpO1xyXG59XHJcblxyXG4ubmF2YmFyLWxpbmtzIGEge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEuNXJlbTtcclxuICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS10ZXh0KTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmNhcnQtaWNvbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmNhcnQtY291bnQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtMTBweDtcclxuICAgIHJpZ2h0OiAtMTVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB3aWR0aDogMjBweDtcclxuICAgIGhlaWdodDogMjBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDAuNzVyZW07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAAiBC,YAAY,QAAQ,iBAAiB;;;;;;;;IAyBtCC,6BAAgC;IAAAA,YAAW;IAAAA,0BAAe;;;;IAA1BA,eAAW;IAAXA,8BAAW;;;;;;IAD7CA,oBAA+D;IAA/DA,gCAA+D;IAC7DA,0GAA0D;IAC5DA,iBAAO;;;;IADUA,eAAe;IAAfA,mCAAe;;;;;;IARpCA,6BAA4D;IAE1DA,4BAA2B;IAAAA,yBAAS;IAAAA,iBAAI;IACxCA,4BAA0C;IAAvCA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAAqBA,sBAAM;IAAAA,iBAAI;IACpDA,4BAAwC;IACtCA,mBAAqL;IAArLA,+BAAqL;IAAAA,6BAAsC;IAAwHA,iBAAM;IAEzVA,oFAEO;;IACTA,iBAAI;IACNA,0BAAe;;;;IAJeA,gBAA2B;IAA3BA,+DAA2B;;;;;IAQvDA,6BAAuB;IAAAA,qBAAK;IAAAA,iBAAI;IAChCA,6BAA0B;IAAAA,wBAAQ;IAAAA,iBAAI;IACtCA,6BAA6B;IAAAA,qBAAK;IAAAA,iBAAI;;;AAQlD,OAAM,MAAOC,eAAe;EAI1BC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAFd,gBAAW,GAAXF,WAAW;IACX,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IAEd,IAAI,CAACC,WAAW,GAAG,IAAI,CAACH,WAAW,CAACG,WAAW;IAC/C,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,WAAW,CAACG,UAAU,CAAC,CAAC;EACjD;;EAEAC,MAAM;IACJ,IAAI,CAACL,WAAW,CAACK,MAAM,EAAE;IACzB,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC;;;;uBAhBWR,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAAS;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAhCxBhB,8BAAoB;UAEuBA,mCAAmB;UAAAA,iBAAI;UAC9DA,8BAA0B;UACFA,oBAAI;UAAAA,iBAAI;UAG9BA,mFAWe;;UAGfA,iHAIc;UAChBA,iBAAM;;;;UAnBWA,eAA6B;UAA7BA,4DAA6B;;;qBAT1CF,YAAY,yBAAEC,YAAY;MAAAkB;IAAA;EAAA","names":["CommonModule","RouterModule","i0","NavbarComponent","constructor","authService","cartService","router","isLoggedIn$","itemCount$","logout","navigate","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["C:\\Woxsen\\DevOPS Project\\E-Commerce-Website\\frontend\\src\\app\\components\\navbar\\navbar.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterModule } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport { CartService } from '../../services/cart.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-navbar',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <nav class=\"navbar\">\n      <div class=\"navbar-container\">\n        <a class=\"navbar-brand\" routerLink=\"/\">The Home Office Kit</a>\n        <div class=\"navbar-links\">\n          <a routerLink=\"/kits\">Kits</a>\n          \n          <!-- This block shows for LOGGED IN users -->\n          <ng-container *ngIf=\"(isLoggedIn$ | async); else loggedOut\">\n            <!-- 1. ADD THE \"MY ORDERS\" LINK HERE -->\n            <a routerLink=\"/my-orders\">My Orders</a>\n            <a (click)=\"logout()\" class=\"logout-link\">Logout</a>\n            <a routerLink=\"/cart\" class=\"cart-icon\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"9\" cy=\"21\" r=\"1\"></circle><circle cx=\"20\" cy=\"21\" r=\"1\"></circle><path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"></path></svg>\n              <!-- 2. USE THE CORRECT ITEM COUNT -->\n              <span class=\"cart-count\" *ngIf=\"(itemCount$ | async) as count\">\n                <ng-container *ngIf=\"count > 0\">{{ count }}</ng-container>\n              </span>\n            </a>\n          </ng-container>\n          \n          <!-- This block shows for GUESTS -->\n          <ng-template #loggedOut>\n            <a routerLink=\"/login\">Login</a>\n            <a routerLink=\"/register\">Register</a>\n            <a routerLink=\"/admin/login\">Admin</a>\n          </ng-template>\n        </div>\n      </div>\n    </nav>\n  `,\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent {\n  isLoggedIn$: Observable<boolean>;\n  itemCount$: Observable<number>; // Changed from cartItems$\n\n  constructor(\n    private authService: AuthService, \n    private cartService: CartService,\n    private router: Router\n  ) {\n    this.isLoggedIn$ = this.authService.isLoggedIn$;\n    this.itemCount$ = this.cartService.itemCount$; // Use the itemCount$ observable\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/login']); // Redirect to login after logout\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}