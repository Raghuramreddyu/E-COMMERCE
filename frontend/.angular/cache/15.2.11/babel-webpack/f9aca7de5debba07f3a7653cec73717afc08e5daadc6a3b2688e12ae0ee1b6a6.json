{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ProductListPageComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"p\");\n    i0.ɵɵtext(2, \"Loading products...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductListPageComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"p\");\n    i0.ɵɵtext(2, \"No products found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/kit\", a1];\n};\nfunction ProductListPageComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"a\", 9);\n    i0.ɵɵelement(2, \"img\", 10);\n    i0.ɵɵelementStart(3, \"div\", 11)(4, \"h3\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, product_r4.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r4.image_url, i0.ɵɵsanitizeUrl)(\"alt\", product_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 5, product_r4.price, \"USD\"));\n  }\n}\nfunction ProductListPageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, ProductListPageComponent_div_5_div_1_Template, 9, 10, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\n  }\n}\nexport class ProductListPageComponent {\n  // IMPROVEMENT: Inject the ProductService into the component.\n  constructor(productService) {\n    this.productService = productService;\n    // IMPROVEMENT: Create properties to hold the list of products and the loading state.\n    this.products = [];\n    this.isLoading = true;\n  }\n  // IMPROVEMENT: ngOnInit is a lifecycle hook that runs when the component is first initialized.\n  ngOnInit() {\n    // Call the service to get the products from the backend.\n    this.productService.getProducts().subscribe({\n      next: data => {\n        this.products = data; // Assign the fetched data to our products array\n        this.isLoading = false; // Turn off the loading indicator\n      },\n\n      error: err => {\n        console.error('Failed to fetch products', err);\n        this.isLoading = false; // Also turn off loading on error\n      }\n    });\n  }\n\n  static {\n    this.ɵfac = function ProductListPageComponent_Factory(t) {\n      return new (t || ProductListPageComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductListPageComponent,\n      selectors: [[\"app-product-list-page\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"product-list-container\"], [\"class\", \"loading-indicator\", 4, \"ngIf\"], [\"class\", \"no-products\", 4, \"ngIf\"], [\"class\", \"product-grid\", 4, \"ngIf\"], [1, \"loading-indicator\"], [1, \"no-products\"], [1, \"product-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [3, \"routerLink\"], [1, \"product-image\", 3, \"src\", \"alt\"], [1, \"product-info\"], [1, \"product-name\"], [1, \"product-price\"]],\n      template: function ProductListPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"All Kits\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ProductListPageComponent_div_3_Template, 3, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, ProductListPageComponent_div_4_Template, 3, 0, \"div\", 2);\n          i0.ɵɵtemplate(5, ProductListPageComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.products.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.products.length > 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.CurrencyPipe, RouterModule, i3.RouterLink],\n      styles: [\".product-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 2rem;\\r\\n    font-size: 2rem;\\r\\n}\\r\\n\\r\\n.product-grid[_ngcontent-%COMP%] {\\r\\n    display: grid;\\r\\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\r\\n    gap: 2rem;\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%] {\\r\\n    border: 1px solid var(--subtle-borders);\\r\\n    border-radius: 10px;\\r\\n    overflow: hidden;\\r\\n    transition: box-shadow 0.3s ease;\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%]:hover {\\r\\n    box-shadow: 0 4px 15px rgba(0,0,0,0.1);\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    text-decoration: none;\\r\\n    color: var(--primary-text);\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    height: 200px;\\r\\n    object-fit: cover;\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n    padding: 1rem 1rem 0.5rem;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.product-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\\r\\n    padding: 0 1rem 1rem;\\r\\n    margin: 0;\\r\\n    font-weight: 500;\\r\\n    color: var(--accent-color);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtJQUNiLDREQUE0RDtJQUM1RCxTQUFTO0FBQ2I7O0FBRUE7SUFDSSx1Q0FBdUM7SUFDdkMsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsMEJBQTBCO0FBQzlCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsU0FBUztBQUNiOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLFNBQVM7SUFDVCxnQkFBZ0I7SUFDaEIsMEJBQTBCO0FBQzlCIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3QtbGlzdC1jb250YWluZXIgaDIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICAgIGZvbnQtc2l6ZTogMnJlbTtcclxufVxyXG5cclxuLnByb2R1Y3QtZ3JpZCB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjgwcHgsIDFmcikpO1xyXG4gICAgZ2FwOiAycmVtO1xyXG59XHJcblxyXG4ucHJvZHVjdC1jYXJkIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXN1YnRsZS1ib3JkZXJzKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWNhcmQ6aG92ZXIge1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDAsMCwwLDAuMSk7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWNhcmQgYSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS10ZXh0KTtcclxufVxyXG5cclxuLnByb2R1Y3QtY2FyZCBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWNhcmQgaDMge1xyXG4gICAgcGFkZGluZzogMXJlbSAxcmVtIDAuNXJlbTtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLnByb2R1Y3QtY2FyZCAucHJpY2Uge1xyXG4gICAgcGFkZGluZzogMCAxcmVtIDFyZW07XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,YAAY,QAAQ,iBAAiB;;;;;;;IAsBxCC,8BAAiD;IAC5CA,mCAAmB;IAAAA,iBAAI;;;;;IAI5BA,8BAAqE;IAChEA,kCAAkB;IAAAA,iBAAI;;;;;;;;IAKzBA,8BAA2D;IAGvDA,0BAA0E;IAC1EA,+BAA0B;IACCA,YAAkB;IAAAA,iBAAK;IAEhDA,6BAAyB;IAAAA,YAAoC;;IAAAA,iBAAI;;;;IALlEA,eAAqC;IAArCA,wEAAqC;IACjCA,eAAyB;IAAzBA,4DAAyB;IAEHA,eAAkB;IAAlBA,qCAAkB;IAElBA,eAAoC;IAApCA,mEAAoC;;;;;IARrEA,8BAAoE;IAClEA,gFAUM;IACRA,iBAAM;;;;IAXqBA,eAAW;IAAXA,yCAAW;;;AAgB5C,OAAM,MAAOC,wBAAwB;EAKnC;EACAC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IALlC;IACA,aAAQ,GAAc,EAAE;IACxB,cAAS,GAAG,IAAI;EAGqC;EAErD;EACAC,QAAQ;IACN;IACA,IAAI,CAACD,cAAc,CAACE,WAAW,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAAC,CAAC;QACtB,IAAI,CAACE,SAAS,GAAG,KAAK,CAAC,CAAC;MAC1B,CAAC;;MACDC,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,0BAA0B,EAAEC,GAAG,CAAC;QAC9C,IAAI,CAACF,SAAS,GAAG,KAAK,CAAC,CAAC;MAC1B;KACD,CAAC;EACJ;;;;uBArBWT,wBAAwB;IAAA;EAAA;;;YAAxBA,wBAAwB;MAAAa;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UA/BjCpB,8BAAoC;UAC9BA,wBAAQ;UAAAA,iBAAK;UAGjBA,yEAEM;UAGNA,yEAEM;UAGNA,yEAYM;UACRA,iBAAM;;;UAvBEA,eAAe;UAAfA,oCAAe;UAKfA,eAAyC;UAAzCA,kEAAyC;UAKzCA,eAAuC;UAAvCA,gEAAuC;;;qBAhBvCF,YAAY,wCAAEC,YAAY;MAAAsB;IAAA;EAAA","names":["CommonModule","RouterModule","i0","ProductListPageComponent","constructor","productService","ngOnInit","getProducts","subscribe","next","data","products","isLoading","error","err","console","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["C:\\Users\\91630\\OneDrive\\Desktop\\E-Commerce-Website\\frontend\\src\\app\\pages\\product-list\\product-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProductService } from '../../services/product.service';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n// IMPROVEMENT: Define a TypeScript interface for the Product data structure.\r\n// This provides type safety and auto-completion in your code.\r\nexport interface Product {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  image_url: string;\r\n  slug: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-product-list-page',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule], // Make sure RouterModule is imported for routerLink\r\n  template: `\r\n    <div class=\"product-list-container\">\r\n      <h1>All Kits</h1>\r\n      \r\n      <!-- IMPROVEMENT: Add a loading indicator for better UX -->\r\n      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n        <p>Loading products...</p>\r\n      </div>\r\n\r\n      <!-- IMPROVEMENT: Add a message for when there are no products -->\r\n      <div *ngIf=\"!isLoading && products.length === 0\" class=\"no-products\">\r\n        <p>No products found.</p>\r\n      </div>\r\n\r\n      <!-- IMPROVEMENT: Use *ngFor to loop over the products array and create a card for each one -->\r\n      <div *ngIf=\"!isLoading && products.length > 0\" class=\"product-grid\">\r\n        <div *ngFor=\"let product of products\" class=\"product-card\">\r\n          <!-- The link now goes to the unique slug for each product -->\r\n          <a [routerLink]=\"['/kit', product.slug]\">\r\n            <img [src]=\"product.image_url\" [alt]=\"product.name\" class=\"product-image\">\r\n            <div class=\"product-info\">\r\n              <h3 class=\"product-name\">{{ product.name }}</h3>\r\n              <!-- Use the currency pipe to format the price -->\r\n              <p class=\"product-price\">{{ product.price | currency:'USD' }}</p>\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListPageComponent implements OnInit {\r\n  // IMPROVEMENT: Create properties to hold the list of products and the loading state.\r\n  products: Product[] = [];\r\n  isLoading = true;\r\n\r\n  // IMPROVEMENT: Inject the ProductService into the component.\r\n  constructor(private productService: ProductService) {}\r\n\r\n  // IMPROVEMENT: ngOnInit is a lifecycle hook that runs when the component is first initialized.\r\n  ngOnInit(): void {\r\n    // Call the service to get the products from the backend.\r\n    this.productService.getProducts().subscribe({\r\n      next: (data) => {\r\n        this.products = data; // Assign the fetched data to our products array\r\n        this.isLoading = false; // Turn off the loading indicator\r\n      },\r\n      error: (err) => {\r\n        console.error('Failed to fetch products', err);\r\n        this.isLoading = false; // Also turn off loading on error\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}