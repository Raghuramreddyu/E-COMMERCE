{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction ProductManagementComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductManagementComponent_tr_24_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDeleteProduct(product_r1.id));\n    });\n    i0.ɵɵtext(8, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, product_r1.price));\n  }\n}\nexport class ProductManagementComponent {\n  constructor(productService, fb) {\n    this.productService = productService;\n    this.fb = fb;\n    this.productForm = this.fb.group({\n      name: ['', Validators.required],\n      slug: ['', Validators.required],\n      description: ['', Validators.required],\n      items_included: ['', Validators.required],\n      price: [null, Validators.required],\n      image_url: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.products$ = this.productService.getProducts();\n  }\n  onAddProduct() {\n    if (this.productForm.valid) {\n      this.productService.addProduct(this.productForm.value).subscribe(() => {\n        this.loadProducts();\n        this.productForm.reset();\n      });\n    }\n  }\n  onDeleteProduct(id) {\n    this.productService.deleteProduct(id).subscribe(() => {\n      this.loadProducts();\n    });\n  }\n  static {\n    this.ɵfac = function ProductManagementComponent_Factory(t) {\n      return new (t || ProductManagementComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductManagementComponent,\n      selectors: [[\"app-product-management\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 26,\n      vars: 5,\n      consts: [[1, \"product-management-container\"], [1, \"add-product-form\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"name\", \"placeholder\", \"Name\"], [\"formControlName\", \"slug\", \"placeholder\", \"Slug\"], [\"formControlName\", \"price\", \"type\", \"number\", \"placeholder\", \"Price\"], [\"formControlName\", \"description\", \"placeholder\", \"Description\"], [\"formControlName\", \"items_included\", \"placeholder\", \"Items (comma-separated)\"], [\"formControlName\", \"image_url\", \"placeholder\", \"Image URL\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"products-table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n      template: function ProductManagementComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n          i0.ɵɵtext(2, \"Add New Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductManagementComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onAddProduct();\n          });\n          i0.ɵɵelement(4, \"input\", 2)(5, \"input\", 3)(6, \"input\", 4)(7, \"textarea\", 5)(8, \"textarea\", 6)(9, \"input\", 7);\n          i0.ɵɵelementStart(10, \"button\", 8);\n          i0.ɵɵtext(11, \"Add Product\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"h3\");\n          i0.ɵɵtext(13, \"Existing Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"table\", 9)(15, \"thead\")(16, \"tr\")(17, \"th\");\n          i0.ɵɵtext(18, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"th\");\n          i0.ɵɵtext(20, \"Price\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"th\");\n          i0.ɵɵtext(22, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(23, \"tbody\");\n          i0.ɵɵtemplate(24, ProductManagementComponent_tr_24_Template, 9, 4, \"tr\", 10);\n          i0.ɵɵpipe(25, \"async\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"disabled\", ctx.productForm.invalid);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(25, 3, ctx.products$));\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.AsyncPipe, i3.CurrencyPipe, ReactiveFormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\".product-management-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    margin-top: 2rem;\\n    margin-bottom: 1rem;\\n}\\n\\n.add-product-form[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: 1fr 1fr;\\n    gap: 1rem;\\n    margin-bottom: 2rem;\\n}\\n\\n.add-product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n    grid-column: 1 / -1;\\n    min-height: 80px;\\n    font-family: 'Inter', sans-serif;\\n    padding: 10px;\\n    border: 1px solid var(--subtle-borders);\\n    border-radius: 5px;\\n}\\n\\n.add-product-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    grid-column: 1 / -1;\\n}\\n\\n.products-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n}\\n\\n.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid var(--subtle-borders);\\n    padding: 0.75rem;\\n    text-align: left;\\n}\\n\\n.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #f8f9fa;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vcHJvZHVjdC1tYW5hZ2VtZW50L3Byb2R1Y3QtbWFuYWdlbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsU0FBUztJQUNULG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsZ0NBQWdDO0lBQ2hDLGFBQWE7SUFDYix1Q0FBdUM7SUFDdkMsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksV0FBVztJQUNYLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHVDQUF1QztJQUN2QyxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3QtbWFuYWdlbWVudC1jb250YWluZXIgaDMge1xuICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLmFkZC1wcm9kdWN0LWZvcm0ge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgIGdhcDogMXJlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xufVxuXG4uYWRkLXByb2R1Y3QtZm9ybSB0ZXh0YXJlYSB7XG4gICAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcbiAgICBtaW4taGVpZ2h0OiA4MHB4O1xuICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tc3VidGxlLWJvcmRlcnMpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLmFkZC1wcm9kdWN0LWZvcm0gYnV0dG9uIHtcbiAgICBncmlkLWNvbHVtbjogMSAvIC0xO1xufVxuXG4ucHJvZHVjdHMtdGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5cbi5wcm9kdWN0cy10YWJsZSB0aCwgLnByb2R1Y3RzLXRhYmxlIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zdWJ0bGUtYm9yZGVycyk7XG4gICAgcGFkZGluZzogMC43NXJlbTtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4ucHJvZHVjdHMtdGFibGUgdGgge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAE9C,SAAsBC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;;IA8BnEC,0BAA8C;IACxCA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAA8B;;IAAAA,iBAAK;IACvCA,0BAAI;IACMA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA2B;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAH3DA,eAAkB;IAAlBA,qCAAkB;IAClBA,eAA8B;IAA9BA,4DAA8B;;;AAW9C,OAAM,MAAOC,0BAA0B;EAWrCC,YAAoBC,cAA8B,EAAUC,EAAe;IAAvD,mBAAc,GAAdD,cAAc;IAA0B,OAAE,GAAFC,EAAE;IAT9D,gBAAW,GAAG,IAAI,CAACA,EAAE,CAACC,KAAK,CAAC;MAC1BC,IAAI,EAAE,CAAC,EAAE,EAAEP,UAAU,CAACQ,QAAQ,CAAC;MAC/BC,IAAI,EAAE,CAAC,EAAE,EAAET,UAAU,CAACQ,QAAQ,CAAC;MAC/BE,WAAW,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACQ,QAAQ,CAAC;MACtCG,cAAc,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACQ,QAAQ,CAAC;MACzCI,KAAK,EAAE,CAAC,IAAI,EAAEZ,UAAU,CAACQ,QAAQ,CAAC;MAClCK,SAAS,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACQ,QAAQ;KACpC,CAAC;EAE4E;EAE9EM,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACC,SAAS,GAAG,IAAI,CAACZ,cAAc,CAACa,WAAW,EAAE;EACpD;EAEAC,YAAY;IACV,IAAI,IAAI,CAACC,WAAW,CAACC,KAAK,EAAE;MAC1B,IAAI,CAAChB,cAAc,CAACiB,UAAU,CAAC,IAAI,CAACF,WAAW,CAACG,KAAK,CAAC,CAACC,SAAS,CAAC,MAAK;QACpE,IAAI,CAACR,YAAY,EAAE;QACnB,IAAI,CAACI,WAAW,CAACK,KAAK,EAAE;MAC1B,CAAC,CAAC;;EAEN;EAEAC,eAAe,CAACC,EAAU;IACxB,IAAI,CAACtB,cAAc,CAACuB,aAAa,CAACD,EAAE,CAAC,CAACH,SAAS,CAAC,MAAK;MACnD,IAAI,CAACR,YAAY,EAAE;IACrB,CAAC,CAAC;EACJ;;;uBAlCWb,0BAA0B;IAAA;EAAA;;;YAA1BA,0BAA0B;MAAA0B;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAnCnCjC,8BAA0C;UACpCA,+BAAe;UAAAA,iBAAK;UACxBA,+BAAqF;UAArDA;YAAA,OAAYkC,kBAAc;UAAA,EAAC;UACzDlC,2BAAiD;UAMjDA,kCAAuD;UAAAA,4BAAW;UAAAA,iBAAS;UAG7EA,2BAAI;UAAAA,kCAAiB;UAAAA,iBAAK;UAC1BA,iCAA8B;UAGpBA,qBAAI;UAAAA,iBAAK;UACbA,2BAAI;UAAAA,sBAAK;UAAAA,iBAAK;UACdA,2BAAI;UAAAA,wBAAO;UAAAA,iBAAK;UAGpBA,8BAAO;UACLA,4EAMK;;UACPA,iBAAQ;;;UA3BJA,eAAyB;UAAzBA,2CAAyB;UAOPA,eAAgC;UAAhCA,kDAAgC;UAa5BA,gBAAoB;UAApBA,8DAAoB;;;qBAxB1CH,YAAY,6CAAEC,mBAAmB;MAAAqC;IAAA;EAAA","names":["CommonModule","ReactiveFormsModule","Validators","i0","ProductManagementComponent","constructor","productService","fb","group","name","required","slug","description","items_included","price","image_url","ngOnInit","loadProducts","products$","getProducts","onAddProduct","productForm","valid","addProduct","value","subscribe","reset","onDeleteProduct","id","deleteProduct","selectors","standalone","features","decls","vars","consts","template","ctx","styles"],"sourceRoot":"","sources":["/Users/saiaryan/Documents/devops-int2/frontend/src/app/admin/product-management/product-management.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductService } from '../../services/product.service';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-product-management',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: `\n    <div class=\"product-management-container\">\n      <h3>Add New Product</h3>\n      <form [formGroup]=\"productForm\" (ngSubmit)=\"onAddProduct()\" class=\"add-product-form\">\n        <input formControlName=\"name\" placeholder=\"Name\">\n        <input formControlName=\"slug\" placeholder=\"Slug\">\n        <input formControlName=\"price\" type=\"number\" placeholder=\"Price\">\n        <textarea formControlName=\"description\" placeholder=\"Description\"></textarea>\n        <textarea formControlName=\"items_included\" placeholder=\"Items (comma-separated)\"></textarea>\n        <input formControlName=\"image_url\" placeholder=\"Image URL\">\n        <button type=\"submit\" [disabled]=\"productForm.invalid\">Add Product</button>\n      </form>\n\n      <h3>Existing Products</h3>\n      <table class=\"products-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Price</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let product of products$ | async\">\n            <td>{{ product.name }}</td>\n            <td>{{ product.price | currency }}</td>\n            <td>\n              <button (click)=\"onDeleteProduct(product.id)\">Remove</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  `,\n  styleUrls: ['./product-management.component.css']\n})\nexport class ProductManagementComponent implements OnInit {\n  products$!: Observable<any[]>;\n  productForm = this.fb.group({\n    name: ['', Validators.required],\n    slug: ['', Validators.required],\n    description: ['', Validators.required],\n    items_included: ['', Validators.required],\n    price: [null, Validators.required],\n    image_url: ['', Validators.required]\n  });\n\n  constructor(private productService: ProductService, private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n  loadProducts() {\n    this.products$ = this.productService.getProducts();\n  }\n\n  onAddProduct() {\n    if (this.productForm.valid) {\n      this.productService.addProduct(this.productForm.value).subscribe(() => {\n        this.loadProducts();\n        this.productForm.reset();\n      });\n    }\n  }\n\n  onDeleteProduct(id: number) {\n    this.productService.deleteProduct(id).subscribe(() => {\n      this.loadProducts();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}