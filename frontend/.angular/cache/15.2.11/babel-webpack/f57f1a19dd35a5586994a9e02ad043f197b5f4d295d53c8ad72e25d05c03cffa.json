{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ProductListPageComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Loading products...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListPageComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"No products are available in this category.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/product\", a1];\n};\nfunction ProductListPageComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"a\", 8);\n    i0.ɵɵelement(2, \"img\", 9);\n    i0.ɵɵelementStart(3, \"div\", 10)(4, \"h3\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, product_r4.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r4.image_url, i0.ɵɵsanitizeUrl)(\"alt\", product_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 5, product_r4.price, \"USD\"));\n  }\n}\nfunction ProductListPageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, ProductListPageComponent_div_5_div_1_Template, 9, 10, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\n  }\n}\nexport class ProductListPageComponent {\n  constructor(productService, route) {\n    this.productService = productService;\n    this.route = route;\n    this.products = [];\n    this.isLoading = true;\n    this.pageTitle = 'All Products';\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const category = params.get('category');\n      this.isLoading = true;\n      if (category) {\n        this.pageTitle = category;\n        this.productService.getProducts(category).subscribe(this.handleProductResponse());\n      } else {\n        this.pageTitle = 'All Products';\n        this.productService.getProducts().subscribe(this.handleProductResponse());\n      }\n    });\n  }\n  handleProductResponse() {\n    return {\n      next: data => {\n        this.products = data;\n        this.isLoading = false;\n      },\n      error: err => {\n        console.error('Failed to fetch products', err);\n        this.isLoading = false;\n      }\n    };\n  }\n  static {\n    this.ɵfac = function ProductListPageComponent_Factory(t) {\n      return new (t || ProductListPageComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductListPageComponent,\n      selectors: [[\"app-product-list-page\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 4,\n      consts: [[1, \"product-list-container\"], [\"class\", \"loading-indicator\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"product-grid\", 4, \"ngIf\"], [1, \"loading-indicator\"], [1, \"product-grid\"], [\"class\", \"card product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"product-card\"], [3, \"routerLink\"], [\"onError\", \"this.src='https://placehold.co/600x400/1E1E1E/E0E0E0?text=Image+Not+Found'\", 1, \"product-image\", 3, \"src\", \"alt\"], [1, \"product-info\"], [1, \"product-name\"], [1, \"product-price\"]],\n      template: function ProductListPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ProductListPageComponent_div_3_Template, 2, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, ProductListPageComponent_div_4_Template, 3, 0, \"div\", 2);\n          i0.ɵɵtemplate(5, ProductListPageComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.pageTitle);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.products.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.products.length > 0);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.CurrencyPipe, RouterModule, i2.RouterLink],\n      styles: [\"h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-bottom: 2rem;\\n    font-size: 2.5rem;\\n    font-weight: 700;\\n}\\n\\n.loading-indicator[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding: 2rem;\\n    font-size: 1.2rem;\\n}\\n\\n.product-grid[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\n    gap: 2rem;\\n}\\n\\n.product-card[_ngcontent-%COMP%] {\\n    padding: 0; \\n    overflow: hidden; \\n}\\n\\n.product-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    text-decoration: none;\\n    color: var(--primary-text);\\n    display: block;\\n    height: 100%;\\n}\\n\\n.product-image[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 200px;\\n    object-fit: cover;\\n    display: block;\\n}\\n\\n.product-info[_ngcontent-%COMP%] {\\n    padding: 1.5rem;\\n}\\n\\n.product-name[_ngcontent-%COMP%] {\\n    font-size: 1.25rem;\\n    font-weight: 700;\\n    margin: 0 0 0.5rem 0;\\n}\\n\\n.product-price[_ngcontent-%COMP%] {\\n    font-size: 1.1rem;\\n    font-weight: 500;\\n    color: var(--primary-accent);\\n    margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsNERBQTREO0lBQzVELFNBQVM7QUFDYjs7QUFFQTtJQUNJLFVBQVUsRUFBRSxvRUFBb0U7SUFDaEYsZ0JBQWdCLEVBQUUseUNBQXlDO0FBQy9EOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQixjQUFjO0lBQ2QsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLDRCQUE0QjtJQUM1QixTQUFTO0FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyJoMiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XG4gICAgZm9udC1zaXplOiAyLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbn1cblxuLmxvYWRpbmctaW5kaWNhdG9yIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMnJlbTtcbiAgICBmb250LXNpemU6IDEuMnJlbTtcbn1cblxuLnByb2R1Y3QtZ3JpZCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyODBweCwgMWZyKSk7XG4gICAgZ2FwOiAycmVtO1xufVxuXG4ucHJvZHVjdC1jYXJkIHtcbiAgICBwYWRkaW5nOiAwOyAvKiBSZW1vdmUgcGFkZGluZyBmcm9tIHRoZSBjYXJkIGl0c2VsZiwgYXMgdGhlIGxpbmsgd2lsbCBoYW5kbGUgaXQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvKiBFbnN1cmUgdGhlIGltYWdlIGNvcm5lcnMgYXJlIHJvdW5kZWQgKi9cbn1cblxuLnByb2R1Y3QtY2FyZCBhIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgY29sb3I6IHZhcigtLXByaW1hcnktdGV4dCk7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ucHJvZHVjdC1pbWFnZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cblxuLnByb2R1Y3QtaW5mbyB7XG4gICAgcGFkZGluZzogMS41cmVtO1xufVxuXG4ucHJvZHVjdC1uYW1lIHtcbiAgICBmb250LXNpemU6IDEuMjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICBtYXJnaW46IDAgMCAwLjVyZW0gMDtcbn1cblxuLnByb2R1Y3QtcHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgY29sb3I6IHZhcigtLXByaW1hcnktYWNjZW50KTtcbiAgICBtYXJnaW46IDA7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAwB,iBAAiB;;;;;;;IAUxDC,8BAAiD;IAAAA,mCAAmB;IAAAA,iBAAM;;;;;IAE1EA,2BAAiD;IAC5CA,2DAA2C;IAAAA,iBAAI;;;;;;;;IAKlDA,8BAAgE;IAE5DA,yBAA+J;IAC/JA,+BAA0B;IACCA,YAAkB;IAAAA,iBAAK;IAChDA,6BAAyB;IAAAA,YAAoC;;IAAAA,iBAAI;;;;IAJlEA,eAAyC;IAAzCA,wEAAyC;IACrCA,eAAyB;IAAzBA,4DAAyB;IAEHA,eAAkB;IAAlBA,qCAAkB;IAClBA,eAAoC;IAApCA,mEAAoC;;;;;IAPrEA,8BAAoE;IAElEA,gFAQM;IACRA,iBAAM;;;;IAT+CA,eAAW;IAAXA,yCAAW;;;AActE,OAAM,MAAOC,wBAAwB;EAKnCC,YACUC,cAA8B,EAC9BC,KAAqB;IADrB,mBAAc,GAAdD,cAAc;IACd,UAAK,GAALC,KAAK;IANf,aAAQ,GAAc,EAAE;IACxB,cAAS,GAAG,IAAI;IAChB,cAAS,GAAG,cAAc;EAKvB;EAEHC,QAAQ;IACN,IAAI,CAACD,KAAK,CAACE,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MACrC,MAAMC,QAAQ,GAAGD,MAAM,CAACE,GAAG,CAAC,UAAU,CAAC;MACvC,IAAI,CAACC,SAAS,GAAG,IAAI;MAErB,IAAIF,QAAQ,EAAE;QACZ,IAAI,CAACG,SAAS,GAAGH,QAAQ;QACzB,IAAI,CAACN,cAAc,CAACU,WAAW,CAACJ,QAAQ,CAAC,CAACF,SAAS,CAAC,IAAI,CAACO,qBAAqB,EAAE,CAAC;OAClF,MAAM;QACL,IAAI,CAACF,SAAS,GAAG,cAAc;QAC/B,IAAI,CAACT,cAAc,CAACU,WAAW,EAAE,CAACN,SAAS,CAAC,IAAI,CAACO,qBAAqB,EAAE,CAAC;;IAE7E,CAAC,CAAC;EACJ;EAEQA,qBAAqB;IAC3B,OAAO;MACLC,IAAI,EAAGC,IAAe,IAAI;QACxB,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpB,IAAI,CAACL,SAAS,GAAG,KAAK;MACxB,CAAC;MACDO,KAAK,EAAGC,GAAQ,IAAI;QAClBC,OAAO,CAACF,KAAK,CAAC,0BAA0B,EAAEC,GAAG,CAAC;QAC9C,IAAI,CAACR,SAAS,GAAG,KAAK;MACxB;KACD;EACH;;;uBApCWV,wBAAwB;IAAA;EAAA;;;YAAxBA,wBAAwB;MAAAoB;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAxBjC3B,8BAAoC;UAC9BA,YAAe;UAAAA,iBAAK;UACxBA,yEAA0E;UAE1EA,yEAEM;UAENA,yEAWM;UACRA,iBAAM;;;UAnBAA,eAAe;UAAfA,mCAAe;UACbA,eAAe;UAAfA,oCAAe;UAEfA,eAAyC;UAAzCA,kEAAyC;UAIpBA,eAAuC;UAAvCA,gEAAuC;;;qBAV5DF,YAAY,wCAAEC,YAAY;MAAA6B;IAAA;EAAA","names":["CommonModule","RouterModule","i0","ProductListPageComponent","constructor","productService","route","ngOnInit","paramMap","subscribe","params","category","get","isLoading","pageTitle","getProducts","handleProductResponse","next","data","products","error","err","console","selectors","standalone","features","decls","vars","consts","template","styles"],"sourceRoot":"","sources":["C:\\Woxsen\\DevOPS Project\\E-Commerce-Website\\frontend\\src\\app\\pages\\product-list\\product-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute } from '@angular/router';\nimport { ProductService, Product } from '../../services/product.service';\n\n@Component({\n  selector: 'app-product-list-page',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <div class=\"product-list-container\">\n      <h2>{{ pageTitle }}</h2>\n      <div *ngIf=\"isLoading\" class=\"loading-indicator\">Loading products...</div>\n      \n      <div *ngIf=\"!isLoading && products.length === 0\">\n        <p>No products are available in this category.</p>\n      </div>\n\n      <div class=\"product-grid\" *ngIf=\"!isLoading && products.length > 0\">\n        <!-- Loop through each product and display it -->\n        <div class=\"card product-card\" *ngFor=\"let product of products\">\n          <a [routerLink]=\"['/product', product.slug]\">\n            <img [src]=\"product.image_url\" [alt]=\"product.name\" class=\"product-image\" onError=\"this.src='https://placehold.co/600x400/1E1E1E/E0E0E0?text=Image+Not+Found'\">\n            <div class=\"product-info\">\n              <h3 class=\"product-name\">{{ product.name }}</h3>\n              <p class=\"product-price\">{{ product.price | currency:'USD' }}</p>\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  `,\n  styleUrls: ['./product-list.component.css'] \n})\nexport class ProductListPageComponent implements OnInit {\n  products: Product[] = [];\n  isLoading = true;\n  pageTitle = 'All Products';\n\n  constructor(\n    private productService: ProductService,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(params => {\n      const category = params.get('category');\n      this.isLoading = true;\n\n      if (category) {\n        this.pageTitle = category;\n        this.productService.getProducts(category).subscribe(this.handleProductResponse());\n      } else {\n        this.pageTitle = 'All Products';\n        this.productService.getProducts().subscribe(this.handleProductResponse());\n      }\n    });\n  }\n\n  private handleProductResponse() {\n    return {\n      next: (data: Product[]) => {\n        this.products = data;\n        this.isLoading = false;\n      },\n      error: (err: any) => {\n        console.error('Failed to fetch products', err);\n        this.isLoading = false;\n      }\n    };\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}