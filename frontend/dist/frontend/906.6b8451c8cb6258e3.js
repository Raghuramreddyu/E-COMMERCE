"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[906],{2906:(C,g,d)=>{d.r(g),d.d(g,{ADMIN_ROUTES:()=>Z});var u=d(6895),o=d(433),t=d(8256),m=d(3116),c=d(3841);let p=(()=>{const e=class{constructor(i,r,a){this.fb=i,this.authService=r,this.router=a,this.loginForm=this.fb.group({username:["",o.kI.required],password:["",o.kI.required]})}onSubmit(){this.loginForm.valid&&this.authService.adminLogin(this.loginForm.value).subscribe({next:()=>this.router.navigate(["/admin/dashboard"]),error:i=>console.error("Admin login failed",i)})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu),t.Y36(m.e),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[t.jDz],decls:14,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["id","username","type","text","formControlName","username"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Admin Login"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Username"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",2)(9,"label",5),t._uU(10,"Password"),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"button",7),t._uU(13,"Login"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("formGroup",a.loginForm),t.xp6(9),t.Q6J("disabled",a.loginForm.invalid))},dependencies:[u.ez,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;border:1px solid var(--subtle-borders);border-radius:10px}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}"]}),n})(),f=(()=>{const e=class{constructor(i,r){this.authService=i,this.router=r}logout(){this.authService.logout(),this.router.navigate(["/admin/login"])}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.Y36(m.e),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[t.jDz],decls:11,vars:0,consts:[[1,"dashboard-container"],[1,"sidebar"],["routerLink","/admin/dashboard/products","routerLinkActive","active"],[1,"btn-secondary",3,"click"],[1,"dashboard-content"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"aside",1)(2,"h2"),t._uU(3,"Admin Panel"),t.qZA(),t.TgZ(4,"nav")(5,"a",2),t._uU(6,"Product Management"),t.qZA()(),t.TgZ(7,"button",3),t.NdJ("click",function(){return a.logout()}),t._uU(8,"Logout"),t.qZA()(),t.TgZ(9,"main",4),t._UZ(10,"router-outlet"),t.qZA()())},dependencies:[u.ez,c.Bz,c.lC,c.rH,c.Od],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 70px)}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:var(--component-background);padding:2rem;border-right:1px solid var(--subtle-borders);display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-weight:700;font-size:1.5rem;margin-bottom:2rem}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex-grow:1}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:1rem 1.5rem;color:var(--primary-text);text-decoration:none;border-radius:8px;margin-bottom:.5rem;transition:background-color .3s ease,color .3s ease;border-left:3px solid transparent}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2a2a2a}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700;color:#fff;background-color:var(--primary-accent);border-left:3px solid var(--primary-accent)}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.dashboard-content[_ngcontent-%COMP%]{flex-grow:1;padding:2rem;background-color:var(--primary-background)}"]}),n})();var b=d(6082);function h(n,e){1&n&&(t.TgZ(0,"div"),t._uU(1,"Loading products..."),t.qZA())}function _(n,e){1&n&&(t.TgZ(0,"div"),t._uU(1,"No products found."),t.qZA())}function v(n,e){if(1&n){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td",24)(9,"button",25),t.NdJ("click",function(){const a=t.CHM(s).$implicit,l=t.oxw(2);return t.KtG(l.deleteProduct(a.id))}),t._uU(10,"Delete"),t.qZA()()()}if(2&n){const s=e.$implicit;t.xp6(2),t.Oqu(s.id),t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Oqu(t.xi3(7,3,s.price,"USD"))}}function P(n,e){if(1&n&&(t.TgZ(0,"table",22)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Price"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Actions"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,v,11,6,"tr",23),t.qZA()()),2&n){const s=t.oxw();t.xp6(12),t.Q6J("ngForOf",s.products)}}const Z=[{path:"login",component:p},{path:"dashboard",component:f,canActivate:[(()=>{const e=class{constructor(i,r){this.authService=i,this.router=r}canActivate(){return!!this.authService.isAdmin()||(this.router.navigate(["/admin/login"]),!1)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.LFG(m.e),t.LFG(c.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})()],children:[{path:"products",component:(()=>{const e=class{constructor(i,r){this.fb=i,this.productService=r,this.productForm=this.fb.group({name:["",o.kI.required],slug:["",o.kI.required],description:["",o.kI.required],price:[null,[o.kI.required,o.kI.min(0)]],image_url:["",o.kI.required]}),this.products=[],this.isLoading=!0}ngOnInit(){this.loadProducts()}loadProducts(){this.isLoading=!0,this.productService.getProducts().subscribe({next:i=>{this.products=i,this.isLoading=!1},error:i=>{console.error("Failed to load products",i),this.isLoading=!1}})}onSubmit(){this.productForm.invalid||this.productService.addProduct({name:this.productForm.value.name,slug:this.productForm.value.slug,description:this.productForm.value.description,price:this.productForm.value.price,image_url:this.productForm.value.image_url}).subscribe({next:()=>{alert("Product added successfully!"),this.productForm.reset(),this.loadProducts()},error:r=>{console.error("Failed to add product",r),alert("Error adding product. Please check the console.")}})}deleteProduct(i){confirm("Are you sure you want to delete this product?")&&this.productService.deleteProduct(i).subscribe({next:()=>{alert("Product deleted successfully!"),this.loadProducts()},error:r=>{console.error("Failed to delete product",r),alert("Error deleting product. Please check the console.")}})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu),t.Y36(b.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-management"]],standalone:!0,features:[t.jDz],decls:40,vars:5,consts:[[1,"management-container"],[1,"card","form-card"],[3,"formGroup","ngSubmit"],[1,"form-grid"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name"],["for","slug"],["id","slug","type","text","formControlName","slug"],[1,"form-group","full-width"],["for","description"],["id","description","formControlName","description","rows","4"],["for","price"],["id","price","type","number","formControlName","price"],["for","image_url"],["id","image_url","type","text","formControlName","image_url"],["for","items_included"],["id","items_included","type","text","formControlName","items_included"],["type","submit",1,"btn-primary",3,"disabled"],[1,"card","list-card"],[4,"ngIf"],["class","product-table",4,"ngIf"],[1,"product-table"],[4,"ngFor","ngForOf"],[1,"actions-cell"],[1,"btn-secondary",3,"click"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Product Management"),t.qZA(),t.TgZ(3,"div",1)(4,"h3"),t._uU(5,"Add New Product"),t.qZA(),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(7,"div",3)(8,"div",4)(9,"label",5),t._uU(10,"Product Name"),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"div",4)(13,"label",7),t._uU(14,"Slug (e.g., starter-kit)"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Description"),t.qZA(),t._UZ(19,"textarea",11),t.qZA(),t.TgZ(20,"div",4)(21,"label",12),t._uU(22,"Price"),t.qZA(),t._UZ(23,"input",13),t.qZA(),t.TgZ(24,"div",4)(25,"label",14),t._uU(26,"Image URL (e.g., /assets/images/kit.jpg)"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.TgZ(28,"div",9)(29,"label",16),t._uU(30,"Items Included (comma-separated)"),t.qZA(),t._UZ(31,"input",17),t.qZA()(),t.TgZ(32,"button",18),t._uU(33,"Add Product"),t.qZA()()(),t.TgZ(34,"div",19)(35,"h3"),t._uU(36,"Existing Products"),t.qZA(),t.YNc(37,h,2,0,"div",20),t.YNc(38,_,2,0,"div",20),t.YNc(39,P,13,1,"table",21),t.qZA()()),2&r&&(t.xp6(6),t.Q6J("formGroup",a.productForm),t.xp6(26),t.Q6J("disabled",a.productForm.invalid),t.xp6(5),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&0===a.products.length),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&a.products.length>0))},dependencies:[u.ez,u.sg,u.O5,u.H9,o.UX,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u],styles:["h2[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:2rem;font-weight:700}.form-card[_ngcontent-%COMP%], .list-card[_ngcontent-%COMP%]{margin-bottom:2rem}.form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:0;margin-bottom:1.5rem;border-bottom:1px solid var(--subtle-borders);padding-bottom:1rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}textarea[_ngcontent-%COMP%]{background-color:#2a2a2a;color:var(--primary-text);border:1px solid var(--subtle-borders);border-radius:8px;padding:12px;width:100%;box-sizing:border-box;transition:border-color .3s ease;font-family:Inter,sans-serif}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-accent)}.form-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.product-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:transparent}.product-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .product-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid var(--subtle-borders)}.product-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;text-transform:uppercase;color:#a0a0a0}.product-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.actions-cell[_ngcontent-%COMP%]{text-align:right}"]}),n})()},{path:"",redirectTo:"products",pathMatch:"full"}]},{path:"",redirectTo:"login",pathMatch:"full"}]}}]);